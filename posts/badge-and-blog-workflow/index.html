<!DOCTYPE html>
<html lang="zh-CN"
    dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>加个小玩意儿，再聊聊我更新文章的方法 | JacksBlog</title>
<meta name="keywords" content="Hugo 静态博客, 个人博客工作流, GitHub Actions, Hugo 多语言国际化, LLM 辅助内容创作, PaperMod 主题页脚定制, Visitor Badge 访客统计">
<meta name="description" content="本文分享了 Hugo 博客的构建与优化流程，包括利用 Github Actions 自动发布、使用 LLM 进行文章润色与翻译、通过访客计数器 Badge 扩展功能，提升博客维护效率与用户体验。">
<meta name="author" content="周淼森">
<link rel="canonical" href="https://jackchou.top/posts/badge-and-blog-workflow/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.86974c6b2de41d4687d60a6ae9cd208741bff58a4d161369ffea23f2f3244458.css" integrity="sha256-hpdMay3kHUaH1gpq6c0gh0G/9YpNFhNp/&#43;oj8vMkRFg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jackchou.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jackchou.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jackchou.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jackchou.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://jackchou.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://jackchou.top/posts/badge-and-blog-workflow/">
<link rel="alternate" hreflang="en" href="https://jackchou.top/en/posts/badge-and-blog-workflow/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Google&#43;Sans&#43;Code:wght@400..700&amp;family=Noto&#43;Sans&#43;SC:wght@400..700&amp;family=Sen:wght@400..700&amp;display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google&#43;Sans&#43;Code:wght@400..700&amp;family=Noto&#43;Sans&#43;SC:wght@400..700&amp;family=Sen:wght@400..700&amp;display=swap" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google&#43;Sans&#43;Code:wght@400..700&amp;family=Noto&#43;Sans&#43;SC:wght@400..700&amp;family=Sen:wght@400..700&amp;display=swap"></noscript>

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-6YGE0Y6TC7"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-6YGE0Y6TC7');
        }
      </script><meta property="og:url" content="https://jackchou.top/posts/badge-and-blog-workflow/">
  <meta property="og:site_name" content="JacksBlog">
  <meta property="og:title" content="加个小玩意儿，再聊聊我更新文章的方法">
  <meta property="og:description" content="本文分享了 Hugo 博客的构建与优化流程，包括利用 Github Actions 自动发布、使用 LLM 进行文章润色与翻译、通过访客计数器 Badge 扩展功能，提升博客维护效率与用户体验。">
  <meta property="og:locale" content="zh-CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-04T02:00:00+08:00">
    <meta property="article:modified_time" content="2025-10-18T21:39:51+08:00">
    <meta property="article:tag" content="Hugo">
    <meta property="article:tag" content="Code">
    <meta property="article:tag" content="PaperMod">
    <meta property="article:tag" content="Anything">
    <meta property="article:tag" content="LLM">
      <meta property="og:image" content="https://img.jackchou.top/jack-img/2025/08/81bb602c03f9704ee42e292468396187.webp">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://img.jackchou.top/jack-img/2025/08/81bb602c03f9704ee42e292468396187.webp">
<meta name="twitter:title" content="加个小玩意儿，再聊聊我更新文章的方法">
<meta name="twitter:description" content="本文分享了 Hugo 博客的构建与优化流程，包括利用 Github Actions 自动发布、使用 LLM 进行文章润色与翻译、通过访客计数器 Badge 扩展功能，提升博客维护效率与用户体验。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "文章 🌳",
      "item": "https://jackchou.top/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "加个小玩意儿，再聊聊我更新文章的方法",
      "item": "https://jackchou.top/posts/badge-and-blog-workflow/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "加个小玩意儿，再聊聊我更新文章的方法",
  "name": "加个小玩意儿，再聊聊我更新文章的方法",
  "description": "本文分享了 Hugo 博客的构建与优化流程，包括利用 Github Actions 自动发布、使用 LLM 进行文章润色与翻译、通过访客计数器 Badge 扩展功能，提升博客维护效率与用户体验。",
  "keywords": [
    "Hugo 静态博客", "个人博客工作流", "GitHub Actions", "Hugo 多语言国际化", "LLM 辅助内容创作", "PaperMod 主题页脚定制", "Visitor Badge 访客统计"
  ],
  "articleBody": "我如何更新 Hugo 是一个能将 Markdown 文件转换成 HTML 静态页面的工具，理论上只要新建或者修改 Markdown，然后运行一下 hugo 就更新好了。不过实践里，有一些非常细节的东西可以分享。\nGithub Actions 方便起见，我的博客由两个仓库组成，一个存放 Markdown 和 Hugo 的主题等文件，另一个放生成的页面文件，也就是 Github Pages，第一个仓库里有 Github Actions ，运行 hugo 命令，生成静态页面再 push 到第二个仓库。\n这个 Action 的触发条件是当 main 分支有提交被推送时，运行一次 Action 大概要一分钟，Github 每个月三千分钟的 Action 配额肯定是用不完的。\nDraft 有时候文章写了一半，或者暂时没想发布，这时候在 front matter 中将 draft 设置为 true，这样运行 hugo 的时候不会构建这一篇。不过在 main 分支的话仍然会触发 Action，虽然不会有任何变化。所以我设置了一个 draft 分支，用来放这些文章，这样可以把 Git 当云同步用，也不会触发 Action。\nLLM 后处理 大致写完以后，我会让 AI 阅读和检查一下，比如有没有错别字，语言是否通顺，让它提点建议（建议基本都是看看就好，也可以听 GPT-4o 这类模型拍拍马屁）。如果这时候还没有写 summary 和 description 甚至 title，也可以让它给一些备选项，不过多数时候不太可用。\n这一步我用的模型是 GPT 4.1，用更厉害的模型也是没问题的，LLM 不太擅长精确控制生成文本的字数。\n输入将会是完整的 markdown，是由简体中文创作的个人博客的一篇文章。 你需要首先查看是否存在错别字、错误的用词和用语，表述不清晰，不通顺的地方。清晰的指出在何处、有什么问题、如何修改。注意，这是一个个人博客，适当的口语化是可接受的，但不能冒犯。 然后，你需要结合你的知识和理解，仔细的阅读文章内容，给出一些内容上的建议和读后感。 最后，你需要结合内容和你的理解，给出几个 front 部分的 title，summary 和 description 的备选项，符合以下要求： - title：这将是显示在文章列表中和文章顶部的“标题”，最好不超过 25 个汉字。 - summary：这将是显示在文章列表中，标题下方的文章“总结”或“副标题”，既补充说明标题，又代表文章内容，最好不超过 50 个汉字。 - description：这将显示在文章页面的标题下方第一段，是“摘要”，是开头和预告全文。最好不超过 80 个汉字。 以及，给出一个文件名，它将作为该文章的 URL，比如 xxx.md，将会成为 baseURL/posts/xxx 中文版完成之后，为了国际化一点，我还会生成一个英文版本，在 Hugo 里，只需要创建一个同名的文件 xxx.en.md 即可。这个英文版的草稿也是 LLM 写的，如果是涉及色彩科学的文章，可以给一个词典，帮助 AI 翻译术语，除了少数特别类似的词（其实很多时候我们自己也不严格区分），参数量大的模型都能翻译的比较好。比较好用的模型有 Gemini 2.5 Pro 和 DeepSeek R1-0528，后者有时候翻译质量更高，但格式和段落可能会被它改。翻译完之后，有时间的话我会阅读一遍，稍作修改。\n最近 OpenRouter 上的 Horizon 模型也很不错。更新：Horizon 似乎是 gpt-5-mini，而 gpt-5 在这两个任务上表现都比较不错。\n使用的 Prompt 如下，据说推理模型只要 Prompt 给的比较准确就可以，不用那种很复杂的：\n发现 OpenAI 有一个 优化 Prompt 的工具，有点像字节之前的 Prompt Pilot，这是一个针对 GPT-5 优化的 Prompt，也可以用于别的模型。\n输入内容为完整的 Markdown，内容为简体中文创作的个人博客文章。 你的任务是将内容翻译为英文，生成对应的英文版本。 要求： 1. 保持原有格式和段落完全不变。 2. 译文表达需自然、贴近日常习惯，避免生僻或不常用表达。 3. 保持 Markdown 语法，图片链接和代码部分只需翻译图片描述和注释。 4. 保持原文语气和风格，网络用语和俚语需准确对应。 在开始翻译前，生成一份 3-5 步的简要任务清单。 翻译完成后仅输出英文内容，便于直接复制粘贴，无需包含其他信息。 遇到专业术语时，以下是供你参考的词典： - 亮度：Luminance - 明度：Lightness - 视明度：Brightness 有时候，需要后期修改文章，对中文版本添加或修改内容之后，如何进行更新，又保持其他部分不变，还能让更新部分自然的融入进去？和 LLM 的单轮简单对话此时就不太能满足需求了，最好的办法是借助 Agent 的力量，比如说 Github Copilot 和 Codex，仅需简单的引导它一下。\n使用 `git diff` 检查我对文件 `ccontent\\posts\\badge-and-blog-workflow.md` 做的更改，依据以下规则，将修改同步到英文版的文章中 `content\\posts\\badge-and-blog-workflow.en.md`，只修改有改动的部分，保持其他部分不变，要求风格与原本接近。 翻译规则： 1. 保持格式和段落严格不变。 2. 注意用语和用词，不要出现生僻的单词，符合日常习惯。 3. 保持 markdown 语法，图片链接、代码部分只要翻译图片描述和注释。 4. 保持语气，使用的俚语和网络用语需要准确的翻译。 它会自行阅读，运行命令来查看差异，并准确的翻译修改的部分。\n统计访客数的 Badge 来源 网上冲浪的时候发现的小玩意儿，通过 Badge 来显示访客数目，比如 这个站。研究了一下，发现这是一个图片，加载一次数量计数器就会加 1。\n图片来自 visitor-badge.laobi.icu，是一个免费的服务，只要一个图片链接即可。\n图片链接的格式如下，里面的 page.id 换成唯一的字符串，比如我现在用的是 jacksblog，只要不和别人重复就可以。可以说是非常方便了，重新计数的话换一个字符串就行。\nhttps://visitor-badge.laobi.icu/badge?page_id=page.id\n当然，这只是图一乐的小玩具，因为只要加载这个图片，计数器就会加，像我这样把它添加在页脚（footer），那么每个页面都会加载它。这样一来，从访问主页，到进入文章列表，再到点开具体文章，这个过程计数器可能就会增加三次。此外，刷新页面也会导致计数增加。\n添加到页面 接下来是把这个 Badge 加到页面上，我选择的是在 footer 文字的底下，这一部分是 Claude Code 完成的，以下是它自己写的工作总结。\n第一步：配置分离 将 visitor badge 从 footer 文字中分离出来，在hugo.yaml中单独配置：\n文件位置： hugo.yaml\nfooter: text: \"footer text here.\" visitorsImage: \"https://visitor-badge.laobi.icu/badge?page_id=\" 新增visitorsImage参数专门存储 badge URL 保持 footer 文字的简洁性 第二步：主题扩展 修改 PaperMod 主题的extend_footer.html文件来显示 badge：\n文件位置： themes/PaperMod/layouts/partials/extend_footer.html\n{{- if .Site.Params.visitorsImage -}} \u003cdiv style=\"text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;\"\u003e \u003cimg src=\"{{ .Site.Params.visitorsImage }}\" alt=\"visitors\" style=\"max-width: 120px; height: auto;\" /\u003e \u003c/div\u003e {{- end -}} {{- if .Site.Params.visitorsImage -}}：条件判断，只有配置了 visitorsImage 才显示 {{ .Site.Params.visitorsImage }}：读取 hugo.yaml 中的配置参数 {{- -}}：去除多余的空白字符 text-align: center：文本居中对齐 width: 100%：容器占满父元素宽度 display: flex; justify-content: center：Flexbox 布局确保元素水平居中 margin-top: 10px; margin-bottom: 20px：与 footer 保持适当间距，底部留白 max-width: 120px：限制 badge 最大宽度，避免过大显示 height: auto：保持图片比例 注意事项 主题更新：如果更新 PaperMod 主题，需要重新添加 extend_footer.html 的修改 第三方依赖：依赖外部统计服务，如果服务不可用会显示破图 隐私考虑：访客统计会收集用户访问数据，需要符合隐私政策要求 ",
  "wordCount" : "2675",
  "inLanguage": "zh-cn",
  "image": "https://img.jackchou.top/jack-img/2025/08/81bb602c03f9704ee42e292468396187.webp","datePublished": "2025-08-04T02:00:00+08:00",
  "dateModified": "2025-10-18T21:39:51+08:00",
  "author":{
    "@type": "Person",
    "name": "周淼森"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jackchou.top/posts/badge-and-blog-workflow/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "JacksBlog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jackchou.top/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jackchou.top/" accesskey="h" title="JacksBlog (Alt + H)">JacksBlog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://jackchou.top/en/" title="English"
                            aria-label="English">English</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jackchou.top/posts/" title="文章 🌳">
                    <span>文章 🌳</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/photos/" title="照片 📷">
                    <span>照片 📷</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/tags/" title="标签 🏷️">
                    <span>标签 🏷️</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/about/" title="关于 😼">
                    <span>关于 😼</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/search/" title="🔍">
                    <span>🔍</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      加个小玩意儿，再聊聊我更新文章的方法
    </h1>
    
    <div class="post-meta"><span title='2025-08-04 02:00:00 +0800 +0800'>2025.08.04</span>&nbsp;|&nbsp;更多语言:
<ul class="i18n_list">
    <li>
        <a href="https://jackchou.top/en/posts/badge-and-blog-workflow/">English</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%88%91%e5%a6%82%e4%bd%95%e6%9b%b4%e6%96%b0" aria-label="我如何更新">我如何更新</a><ul>
                        
                <li>
                    <a href="#github-actions" aria-label="Github Actions">Github Actions</a></li>
                <li>
                    <a href="#draft" aria-label="Draft">Draft</a></li>
                <li>
                    <a href="#llm-%e5%90%8e%e5%a4%84%e7%90%86" aria-label="LLM 后处理">LLM 后处理</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bb%9f%e8%ae%a1%e8%ae%bf%e5%ae%a2%e6%95%b0%e7%9a%84-badge" aria-label="统计访客数的 Badge">统计访客数的 Badge</a><ul>
                        
                <li>
                    <a href="#%e6%9d%a5%e6%ba%90" aria-label="来源">来源</a></li>
                <li>
                    <a href="#%e6%b7%bb%e5%8a%a0%e5%88%b0%e9%a1%b5%e9%9d%a2" aria-label="添加到页面">添加到页面</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%85%8d%e7%bd%ae%e5%88%86%e7%a6%bb" aria-label="第一步：配置分离">第一步：配置分离</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e4%b8%bb%e9%a2%98%e6%89%a9%e5%b1%95" aria-label="第二步：主题扩展">第二步：主题扩展</a></li>
                <li>
                    <a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="注意事项">注意事项</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="我如何更新">我如何更新<a hidden class="anchor" aria-hidden="true" href="#我如何更新">#</a></h2>
<p>Hugo 是一个能将 Markdown 文件转换成 HTML 静态页面的工具，理论上只要新建或者修改 Markdown，然后运行一下 <code>hugo</code> 就更新好了。不过实践里，有一些非常细节的东西可以分享。</p>
<h3 id="github-actions">Github Actions<a hidden class="anchor" aria-hidden="true" href="#github-actions">#</a></h3>
<p>方便起见，我的博客由两个仓库组成，一个存放 Markdown 和 Hugo 的主题等文件，另一个放生成的页面文件，也就是 Github Pages，第一个仓库里有 Github Actions ，运行 hugo 命令，生成静态页面再 push 到第二个仓库。</p>
<p>这个 Action 的触发条件是当 main 分支有提交被推送时，运行一次 Action 大概要一分钟，Github 每个月三千分钟的 Action 配额肯定是用不完的。</p>
<h3 id="draft">Draft<a hidden class="anchor" aria-hidden="true" href="#draft">#</a></h3>
<p>有时候文章写了一半，或者暂时没想发布，这时候在 front matter 中将 draft 设置为 true，这样运行 hugo 的时候不会构建这一篇。不过在 main 分支的话仍然会触发 Action，虽然不会有任何变化。所以我设置了一个 draft 分支，用来放这些文章，这样可以把 Git 当云同步用，也不会触发 Action。</p>
<h3 id="llm-后处理">LLM 后处理<a hidden class="anchor" aria-hidden="true" href="#llm-后处理">#</a></h3>
<p>大致写完以后，我会让 AI 阅读和检查一下，比如有没有错别字，语言是否通顺，让它提点建议（建议基本都是看看就好，也可以听 GPT-4o 这类模型拍拍马屁）。如果这时候还没有写 summary 和 description 甚至 title，也可以让它给一些备选项，不过多数时候不太可用。</p>
<p>这一步我用的模型是 GPT 4.1，用更厉害的模型也是没问题的，LLM 不太擅长精确控制生成文本的字数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>输入将会是完整的 markdown，是由简体中文创作的个人博客的一篇文章。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>你需要首先查看是否存在错别字、错误的用词和用语，表述不清晰，不通顺的地方。清晰的指出在何处、有什么问题、如何修改。注意，这是一个个人博客，适当的口语化是可接受的，但不能冒犯。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>然后，你需要结合你的知识和理解，仔细的阅读文章内容，给出一些内容上的建议和读后感。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>最后，你需要结合内容和你的理解，给出几个 front 部分的 title，summary 和 description 的备选项，符合以下要求：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> title：这将是显示在文章列表中和文章顶部的“标题”，最好不超过 25 个汉字。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> summary：这将是显示在文章列表中，标题下方的文章“总结”或“副标题”，既补充说明标题，又代表文章内容，最好不超过 50 个汉字。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> description：这将显示在文章页面的标题下方第一段，是“摘要”，是开头和预告全文。最好不超过 80 个汉字。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>以及，给出一个文件名，它将作为该文章的 URL，比如 xxx.md，将会成为 baseURL/posts/xxx
</span></span></code></pre></div><p>中文版完成之后，为了国际化一点，我还会生成一个英文版本，在 Hugo 里，只需要创建一个同名的文件 <code>xxx.en.md</code> 即可。这个英文版的草稿也是 LLM 写的，如果是涉及色彩科学的文章，可以给一个词典，帮助 AI 翻译术语，除了少数特别类似的词（其实很多时候我们自己也不严格区分），参数量大的模型都能翻译的比较好。比较好用的模型有 Gemini 2.5 Pro 和 DeepSeek R1-0528，后者有时候翻译质量更高，但格式和段落可能会被它改。翻译完之后，有时间的话我会阅读一遍，稍作修改。</p>
<blockquote>
<p>最近 OpenRouter 上的 Horizon 模型也很不错。更新：Horizon 似乎是 gpt-5-mini，而 gpt-5 在这两个任务上表现都比较不错。</p>
</blockquote>
<p>使用的 Prompt 如下，据说推理模型只要 Prompt 给的比较准确就可以，不用那种很复杂的：</p>
<blockquote>
<p>发现 OpenAI 有一个 <a href="https://platform.openai.com/chat/edit?optimize=true">优化 Prompt</a> 的工具，有点像字节之前的 Prompt Pilot，这是一个针对 GPT-5 优化的 Prompt，也可以用于别的模型。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>输入内容为完整的 Markdown，内容为简体中文创作的个人博客文章。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>你的任务是将内容翻译为英文，生成对应的英文版本。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>要求：
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">1.</span> 保持原有格式和段落完全不变。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">2.</span> 译文表达需自然、贴近日常习惯，避免生僻或不常用表达。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">3.</span> 保持 Markdown 语法，图片链接和代码部分只需翻译图片描述和注释。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">4.</span> 保持原文语气和风格，网络用语和俚语需准确对应。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>在开始翻译前，生成一份 3-5 步的简要任务清单。
</span></span><span style="display:flex;"><span>翻译完成后仅输出英文内容，便于直接复制粘贴，无需包含其他信息。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>遇到专业术语时，以下是供你参考的词典：
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> 亮度：Luminance
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> 明度：Lightness
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> 视明度：Brightness
</span></span></code></pre></div><p>有时候，需要后期修改文章，对中文版本添加或修改内容之后，如何进行更新，又保持其他部分不变，还能让更新部分自然的融入进去？和 LLM 的单轮简单对话此时就不太能满足需求了，最好的办法是借助 Agent 的力量，比如说 Github Copilot 和 Codex，仅需简单的引导它一下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>使用 <span style="color:#e6db74">`git diff`</span> 检查我对文件 <span style="color:#e6db74">`ccontent\posts\badge-and-blog-workflow.md`</span> 做的更改，依据以下规则，将修改同步到英文版的文章中 <span style="color:#e6db74">`content\posts\badge-and-blog-workflow.en.md`</span>，只修改有改动的部分，保持其他部分不变，要求风格与原本接近。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>翻译规则：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">1.</span> 保持格式和段落严格不变。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">2.</span> 注意用语和用词，不要出现生僻的单词，符合日常习惯。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">3.</span> 保持 markdown 语法，图片链接、代码部分只要翻译图片描述和注释。
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">4.</span> 保持语气，使用的俚语和网络用语需要准确的翻译。
</span></span></code></pre></div><p>它会自行阅读，运行命令来查看差异，并准确的翻译修改的部分。</p>
<h2 id="统计访客数的-badge">统计访客数的 Badge<a hidden class="anchor" aria-hidden="true" href="#统计访客数的-badge">#</a></h2>
<h3 id="来源">来源<a hidden class="anchor" aria-hidden="true" href="#来源">#</a></h3>
<p>网上冲浪的时候发现的小玩意儿，通过 Badge 来显示访客数目，比如 <a href="https://llm-red-team.github.io/free-api/freeapi/">这个站</a>。研究了一下，发现这是一个图片，加载一次数量计数器就会加 1。</p>
<p>图片来自 <a href="https://visitor-badge.laobi.icu/">visitor-badge.laobi.icu</a>，是一个免费的服务，只要一个图片链接即可。</p>
<p>图片链接的格式如下，里面的 <code>page.id</code> 换成唯一的字符串，比如我现在用的是 <code>jacksblog</code>，只要不和别人重复就可以。可以说是非常方便了，重新计数的话换一个字符串就行。</p>
<p><a href="https://visitor-badge.laobi.icu/badge?page_id=page.id">https://visitor-badge.laobi.icu/badge?page_id=page.id</a></p>
<p>当然，这只是图一乐的小玩具，因为只要加载这个图片，计数器就会加，像我这样把它添加在页脚（footer），那么每个页面都会加载它。这样一来，从访问主页，到进入文章列表，再到点开具体文章，这个过程计数器可能就会增加三次。此外，刷新页面也会导致计数增加。</p>
<h3 id="添加到页面">添加到页面<a hidden class="anchor" aria-hidden="true" href="#添加到页面">#</a></h3>
<p>接下来是把这个 Badge 加到页面上，我选择的是在 footer 文字的底下，这一部分是 Claude Code 完成的，以下是它自己写的工作总结。</p>
<h4 id="第一步配置分离">第一步：配置分离<a hidden class="anchor" aria-hidden="true" href="#第一步配置分离">#</a></h4>
<p>将 visitor badge 从 footer 文字中分离出来，在<code>hugo.yaml</code>中单独配置：</p>
<p>文件位置： <code>hugo.yaml</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">footer</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">text</span>: <span style="color:#e6db74">&#34;footer text here.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">visitorsImage</span>: <span style="color:#e6db74">&#34;https://visitor-badge.laobi.icu/badge?page_id=&#34;</span>
</span></span></code></pre></div><ul>
<li>新增<code>visitorsImage</code>参数专门存储 badge URL</li>
<li>保持 footer 文字的简洁性</li>
</ul>
<h4 id="第二步主题扩展">第二步：主题扩展<a hidden class="anchor" aria-hidden="true" href="#第二步主题扩展">#</a></h4>
<p>修改 PaperMod 主题的<code>extend_footer.html</code>文件来显示 badge：</p>
<p>文件位置： <code>themes/PaperMod/layouts/partials/extend_footer.html</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- if .Site.Params.visitorsImage -}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.Params.visitorsImage }}&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;visitors&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;max-width: 120px; height: auto;&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><ul>
<li><code>{{- if .Site.Params.visitorsImage -}}</code>：条件判断，只有配置了 visitorsImage 才显示</li>
<li><code>{{ .Site.Params.visitorsImage }}</code>：读取 hugo.yaml 中的配置参数</li>
<li><code>{{- -}}</code>：去除多余的空白字符</li>
<li><code>text-align: center</code>：文本居中对齐</li>
<li><code>width: 100%</code>：容器占满父元素宽度</li>
<li><code>display: flex; justify-content: center</code>：Flexbox 布局确保元素水平居中</li>
<li><code>margin-top: 10px; margin-bottom: 20px</code>：与 footer 保持适当间距，底部留白</li>
<li><code>max-width: 120px</code>：限制 badge 最大宽度，避免过大显示</li>
<li><code>height: auto</code>：保持图片比例</li>
</ul>
<h4 id="注意事项">注意事项<a hidden class="anchor" aria-hidden="true" href="#注意事项">#</a></h4>
<ol>
<li>主题更新：如果更新 PaperMod 主题，需要重新添加 extend_footer.html 的修改</li>
<li>第三方依赖：依赖外部统计服务，如果服务不可用会显示破图</li>
<li>隐私考虑：访客统计会收集用户访问数据，需要符合隐私政策要求</li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://jackchou.top/tags/hugo/">Hugo</a></li>
      <li><a href="https://jackchou.top/tags/code/">Code</a></li>
      <li><a href="https://jackchou.top/tags/papermod/">PaperMod</a></li>
      <li><a href="https://jackchou.top/tags/anything/">Anything</a></li>
      <li><a href="https://jackchou.top/tags/llm/">LLM</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://jackchou.top/photos/monthly-2025-07/">
    <span class="title">« 上一篇</span>
    <br>
    <span>📷 七月集</span>
  </a>
  <a class="next" href="https://jackchou.top/posts/sony-camera-screen/">
    <span class="title">下一篇 »</span>
    <br>
    <span>不仅目测：索尼相机屏幕的客观测试和方法</span>
  </a>
</nav>


  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jackchou.top/">JacksBlog</a></span> · 
        my friends&rsquo; websites: <a href="https://zhxwu.com/">zhxwu.com</a>, <a href="https://ylqian.com/">ylqian.com</a> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><div style="text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;">
    <img src="https://visitor-badge.laobi.icu/badge?page_id=jacksblog" alt="visitors" width="88" height="20" style="height: auto;" loading="lazy" />
</div><script>
(() => {
    const images = document.querySelectorAll('.post-content img');
    if (!images.length) return;

    const overlay = document.createElement('div');
    overlay.className = 'image-lightbox';
    overlay.innerHTML = '<img class="image-lightbox__img" alt="" />';

    const overlayImg = overlay.querySelector('img');
    const closeOverlay = () => {
        overlay.classList.remove('is-visible');
        overlayImg.removeAttribute('src');
        document.body.style.removeProperty('overflow');
    };

    overlay.addEventListener('click', closeOverlay);
    document.addEventListener('keyup', (event) => {
        if (event.key === 'Escape' && overlay.classList.contains('is-visible')) {
            closeOverlay();
        }
    });

    document.body.appendChild(overlay);

    images.forEach((img) => {
        img.addEventListener('click', (event) => {
            event.preventDefault();
            event.stopPropagation();

            const source = img.dataset.zoomSrc || img.currentSrc || img.src;
            const cleanSrc = source.split('#')[0];

            overlayImg.src = cleanSrc;
            overlayImg.alt = img.alt || '';

            overlay.classList.add('is-visible');
            document.body.style.setProperty('overflow', 'hidden');
        });
    });
})();
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '拷贝';

        function copyingDone() {
            copybutton.innerHTML = '已拷贝';
            setTimeout(() => {
                copybutton.innerHTML = '拷贝';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
