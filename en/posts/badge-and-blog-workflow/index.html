<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Add a little gadget, just chatting | üè°JacksBlog</title>
<meta name="keywords" content="Hugo, Code, PaperMod, Anything">
<meta name="description" content="Use a Badge to roughly show visitor count, plus a quick share of my blog update workflow">
<meta name="author" content="">
<link rel="canonical" href="https://jackchou.top/en/posts/badge-and-blog-workflow/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7661776b18b3ce31a740dd6e5be11f84f6e3f987238493cf541cd274acdb2612.css" integrity="sha256-dmF3axizzjGnQN1uW&#43;EfhPbj&#43;YcjhJPPVBzSdKzbJhI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jackchou.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jackchou.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jackchou.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jackchou.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://jackchou.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://jackchou.top/posts/badge-and-blog-workflow/">
<link rel="alternate" hreflang="en" href="https://jackchou.top/en/posts/badge-and-blog-workflow/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" integrity="sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js" integrity="sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Noto+Sans+SC:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">


<style>
#domain-migration-notice {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px 20px;
  text-align: center;
  z-index: 1000;
  font-size: 14px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  display: none;
}

#domain-migration-notice.show {
  display: block;
}

#domain-migration-notice .notice-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
}

#domain-migration-notice .notice-text {
  flex: 1;
  text-align: center;
}

#domain-migration-notice .close-btn {
  background: rgba(255,255,255,0.2);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: background-color 0.3s;
}

#domain-migration-notice .close-btn:hover {
  background: rgba(255,255,255,0.3);
}

#domain-migration-notice a {
  color: #ffeb3b;
  text-decoration: underline;
}

body.notice-shown {
  padding-top: 60px;
}

@media (max-width: 768px) {
  #domain-migration-notice {
    padding: 10px 15px;
    font-size: 13px;
  }
  
  #domain-migration-notice .notice-content {
    flex-direction: column;
    gap: 8px;
  }
  
  body.notice-shown {
    padding-top: 80px;
  }
}
</style>

<script>
(function() {
  
  const expiryDate = new Date('2025-10-31');
  const now = new Date();
  
  if (now > expiryDate) {
    return; 
  }
  
  
  if (localStorage.getItem('domain-migration-dismissed') === 'true') {
    return;
  }
  
  
  const noticeHTML = `
    <div id="domain-migration-notice">
      <div class="notice-content">
        <div class="notice-text">
          <span class="zh-notice" style="display: none;">
            üëã ÂÜçËßÅÔºåjackchou00.icu    üöÄ Êñ∞ÁöÑÊóÖÈÄîÔºå‰ªé <a href="https://jackchou.top">jackchou.top</a> Ëµ∑Á®ã
          </span>
          <span class="en-notice" style="display: none;">
            üëã Goodbye, jackchou00.icu    üöÄ A new chapter will begin at <a href="https://jackchou.top">jackchou.top</a>
          </span>
        </div>
        <button class="close-btn" onclick="dismissNotice()">‚úï</button>
      </div>
    </div>
  `;
  
  
  document.addEventListener('DOMContentLoaded', function() {
    
    document.body.insertAdjacentHTML('afterbegin', noticeHTML);
    
    
    const isEnglish = document.documentElement.lang === 'en' || window.location.pathname.startsWith('/en/');
    const zhNotice = document.querySelector('.zh-notice');
    const enNotice = document.querySelector('.en-notice');
    
    if (isEnglish && enNotice) {
      enNotice.style.display = 'inline';
    } else if (zhNotice) {
      zhNotice.style.display = 'inline';
    }
    
    
    const notice = document.getElementById('domain-migration-notice');
    if (notice) {
      notice.classList.add('show');
      document.body.classList.add('notice-shown');
    }
  });
  
  
  window.dismissNotice = function() {
    const notice = document.getElementById('domain-migration-notice');
    if (notice) {
      notice.style.display = 'none';
      document.body.classList.remove('notice-shown');
      localStorage.setItem('domain-migration-dismissed', 'true');
    }
  };
})();
</script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4dc1311d77d6840123f21aa2f8a31c84";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><meta property="og:url" content="https://jackchou.top/en/posts/badge-and-blog-workflow/">
  <meta property="og:site_name" content="üè°JacksBlog">
  <meta property="og:title" content="Add a little gadget, just chatting">
  <meta property="og:description" content="Use a Badge to roughly show visitor count, plus a quick share of my blog update workflow">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-04T02:00:00+08:00">
    <meta property="article:modified_time" content="2025-08-04T02:00:00+08:00">
    <meta property="article:tag" content="Hugo">
    <meta property="article:tag" content="Code">
    <meta property="article:tag" content="PaperMod">
    <meta property="article:tag" content="Anything">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Add a little gadget, just chatting">
<meta name="twitter:description" content="Use a Badge to roughly show visitor count, plus a quick share of my blog update workflow">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts üå≥",
      "item": "https://jackchou.top/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Add a little gadget, just chatting",
      "item": "https://jackchou.top/en/posts/badge-and-blog-workflow/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Add a little gadget, just chatting",
  "name": "Add a little gadget, just chatting",
  "description": "Use a Badge to roughly show visitor count, plus a quick share of my blog update workflow",
  "keywords": [
    "Hugo", "Code", "PaperMod", "Anything"
  ],
  "articleBody": "How I update Hugo builds HTML from Markdown. In theory, you just create or edit Markdown, then run hugo and it‚Äôs done. In practice, there are some tiny details worth sharing.\nGithub Actions For convenience, my blog uses two repos: one stores Markdown and the Hugo theme and other files; the other stores the generated site files (i.e., Github Pages). The first repo has Github Actions that run the hugo command, build static pages, then push to the second repo.\nThe Action is triggered whenever commits are pushed to the main branch. Each run takes about a minute. With 3,000 Action minutes per month on Github, I‚Äôll never run out.\nDraft Sometimes a post is half-written or I don‚Äôt want to publish it yet. In that case I set draft to true in the front, so hugo won‚Äôt build it. But if it‚Äôs in main, it still triggers the Action‚Äîeven though nothing changes. So I made a draft branch to keep those posts. That way I can use Git like cloud sync and also avoid triggering the Action.\nLLM post-processing After I finish the draft, I‚Äôll have AI read and check it‚Äîlike spotting typos, checking fluency, and giving suggestions (which I mostly skim, or let models like GPT-4o say some nice words). If I haven‚Äôt written the summary, description, or even the title yet, I‚Äôll ask it for options‚Äîthough most of the time they‚Äôre not that useful.\nI use GPT 4.1 for this step. Stronger models are fine too, but handling Chinese character-level issues isn‚Äôt a strong suit for LLMs.\nËæìÂÖ•Â∞Ü‰ºöÊòØÂÆåÊï¥ÁöÑ markdownÔºåÊòØÁî±ÁÆÄ‰Ωì‰∏≠ÊñáÂàõ‰ΩúÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÁöÑ‰∏ÄÁØáÊñáÁ´†„ÄÇ ‰Ω†ÈúÄË¶ÅÈ¶ñÂÖàÊü•ÁúãÊòØÂê¶Â≠òÂú®ÈîôÂà´Â≠ó„ÄÅÈîôËØØÁöÑÁî®ËØçÂíåÁî®ËØ≠ÔºåË°®Ëø∞‰∏çÊ∏ÖÊô∞Ôºå‰∏çÈÄöÈ°∫ÁöÑÂú∞Êñπ„ÄÇÊ∏ÖÊô∞ÁöÑÊåáÂá∫Âú®‰ΩïÂ§Ñ„ÄÅÊúâ‰ªÄ‰πàÈóÆÈ¢ò„ÄÅÂ¶Ç‰Ωï‰øÆÊîπ„ÄÇÊ≥®ÊÑèÔºåËøôÊòØ‰∏Ä‰∏™‰∏™‰∫∫ÂçöÂÆ¢ÔºåÈÄÇÂΩìÁöÑÂè£ËØ≠ÂåñÊòØÂèØÊé•ÂèóÁöÑÔºå‰ΩÜ‰∏çËÉΩÂÜíÁäØ„ÄÇ ÁÑ∂ÂêéÔºå‰Ω†ÈúÄË¶ÅÁªìÂêà‰Ω†ÁöÑÁü•ËØÜÂíåÁêÜËß£Ôºå‰ªîÁªÜÁöÑÈòÖËØªÊñáÁ´†ÂÜÖÂÆπÔºåÁªôÂá∫‰∏Ä‰∫õÂÜÖÂÆπ‰∏äÁöÑÂª∫ËÆÆÂíåËØªÂêéÊÑü„ÄÇ ÊúÄÂêéÔºå‰Ω†ÈúÄË¶ÅÁªìÂêàÂÜÖÂÆπÂíå‰Ω†ÁöÑÁêÜËß£ÔºåÁªôÂá∫Âá†‰∏™ front ÈÉ®ÂàÜÁöÑ titleÔºåsummary Âíå description ÁöÑÂ§áÈÄâÈ°πÔºåÁ¨¶Âêà‰ª•‰∏ãË¶ÅÊ±ÇÔºö - titleÔºöËøôÂ∞ÜÊòØÊòæÁ§∫Âú®ÊñáÁ´†ÂàóË°®‰∏≠ÂíåÊñáÁ´†È°∂ÈÉ®ÁöÑ‚ÄúÊ†áÈ¢ò‚ÄùÔºåÊúÄÂ•Ω‰∏çË∂ÖËøá 25 ‰∏™Ê±âÂ≠ó„ÄÇ - summaryÔºöËøôÂ∞ÜÊòØÊòæÁ§∫Âú®ÊñáÁ´†ÂàóË°®‰∏≠ÔºåÊ†áÈ¢ò‰∏ãÊñπÁöÑÊñáÁ´†‚ÄúÊÄªÁªì‚ÄùÊàñ‚ÄúÂâØÊ†áÈ¢ò‚ÄùÔºåÊó¢Ë°•ÂÖÖËØ¥ÊòéÊ†áÈ¢òÔºåÂèà‰ª£Ë°®ÊñáÁ´†ÂÜÖÂÆπÔºåÊúÄÂ•Ω‰∏çË∂ÖËøá 50 ‰∏™Ê±âÂ≠ó„ÄÇ - descriptionÔºöËøôÂ∞ÜÊòæÁ§∫Âú®ÊñáÁ´†È°µÈù¢ÁöÑÊ†áÈ¢ò‰∏ãÊñπÁ¨¨‰∏ÄÊÆµÔºåÊòØ‚ÄúÊëòË¶Å‚ÄùÔºåÊòØÂºÄÂ§¥ÂíåÈ¢ÑÂëäÂÖ®Êñá„ÄÇÊúÄÂ•Ω‰∏çË∂ÖËøá 80 ‰∏™Ê±âÂ≠ó„ÄÇ ‰ª•ÂèäÔºåÁªôÂá∫‰∏Ä‰∏™Êñá‰ª∂ÂêçÔºåÂÆÉÂ∞Ü‰Ωú‰∏∫ËØ•ÊñáÁ´†ÁöÑ URLÔºåÊØîÂ¶Ç xxx.mdÔºåÂ∞Ü‰ºöÊàê‰∏∫ baseURL/posts/xxx After the Chinese version is done, for a bit of internationalization, I also generate an English version. In Hugo, you just create a file with the same name xxx.en.md. The English draft is also written by an LLM. If the post is about color science, I‚Äôll provide a glossary to help the AI with terms. Aside from a few similar terms (which we often don‚Äôt strictly distinguish anyway), larger models translate quite well. Good options include Gemini 2.5 Pro and DeepSeek R1-0528; the latter sometimes gives better translation quality, but it may alter format and paragraphs. After translating, I‚Äôll read it once and make small edits if I have time.\nRecentlt, A model named Horizon on OpenRouter also works very well for this task.\nHere‚Äôs the prompt I use. Supposedly, for reasoning models, a clear prompt is enough, you don‚Äôt need a super complicated one:\nËæìÂÖ•Â∞Ü‰ºöÊòØÂÆåÊï¥ÁöÑ markdownÔºåÊòØÁî±ÁÆÄ‰Ωì‰∏≠ÊñáÂàõ‰ΩúÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÁöÑ‰∏ÄÁØáÊñáÁ´†„ÄÇ ‰Ω†ÈúÄË¶ÅÊääÁªô‰Ω†ÁöÑÂÜÖÂÆπÁøªËØëÊàêËã±ÊñáÔºåÂàõÂª∫ÂÖ∂Ëã±ÊñáÁâàÊú¨„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÔºö 1. ‰øùÊåÅÊ†ºÂºèÂíåÊÆµËêΩ‰∏•Ê†º‰∏çÂèò„ÄÇ 2. Ê≥®ÊÑèÁî®ËØ≠ÂíåÁî®ËØçÔºå‰∏çË¶ÅÂá∫Áé∞ÁîüÂÉªÁöÑÂçïËØçÔºåÁ¨¶ÂêàÊó•Â∏∏‰π†ÊÉØ„ÄÇ 3. ‰øùÊåÅ markdown ËØ≠Ê≥ïÔºåÂõæÁâáÈìæÊé•„ÄÅ‰ª£Á†ÅÈÉ®ÂàÜÂè™Ë¶ÅÁøªËØëÂõæÁâáÊèèËø∞ÂíåÊ≥®Èáä„ÄÇ 4. ‰øùÊåÅËØ≠Ê∞îÔºå‰ΩøÁî®ÁöÑ‰øöËØ≠ÂíåÁΩëÁªúÁî®ËØ≠ÈúÄË¶ÅÂáÜÁ°ÆÁöÑÁøªËØë„ÄÇ ËæìÂá∫ÈúÄË¶ÅÂèØ‰ª•Áõ¥Êé•Â§çÂà∂Ôºå‰∏çË¶ÅÂåÖÂê´‰ªª‰ΩïÂÖ∂ÂÆÉÂÜÖÂÆπ„ÄÇ ÈÅáÂà∞‰∏ì‰∏öÊúØËØ≠Êó∂Ôºå‰ª•‰∏ãÊòØ‰æõ‰Ω†ÂèÇËÄÉÁöÑËØçÂÖ∏Ôºö - ‰∫ÆÂ∫¶ÔºöLuminance - ÊòéÂ∫¶ÔºöLightness - ËßÜÊòéÂ∫¶ÔºöBrightness A Badge for visitor stats Source Found this little gadget while surfing: show visitor counts through a Badge, like on this site. Did some digging and found it‚Äôs just an image; each load increments a counter by 1.\nThe image comes from visitor-badge.laobi.icu, a free service. You only need an image URL.\nThe image link format is below. Replace page.id with a unique string. I‚Äôm using jacksblog now‚Äîjust avoid collisions. Super convenient. To reset the count, just swap in a new string.\nhttps://visitor-badge.laobi.icu/badge?page_id=page.id Of course, this is just a fun toy. Every image load increments the counter. If you add it to the footer like I did, it shows on every page. Visit the homepage, go to a post, open the post‚Äîthat‚Äôs three increments. Refreshes also count.\nAdd to the page Next is adding the Badge to the page. I chose to place it below the footer text. Claude Code handled this part; here‚Äôs its own summary of the work.\nStep 1: Config separation Separate the visitor badge from the footer text and configure it in hugo.yaml:\nLocation: hugo.yaml\nfooter: text: \"footer text here.\" visitorsImage: \"https://visitor-badge.laobi.icu/badge?page_id=\" Add a new visitorsImage param to store the badge URL Keep the footer text clean Step 2: Theme extension Modify the extend_footer.html of the PaperMod theme to display the badge:\nLocation: themes/PaperMod/layouts/partials/extend_footer.html\n{{- if .Site.Params.visitorsImage -}} \u003cdiv style=\"text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;\"\u003e \u003cimg src=\"{{ .Site.Params.visitorsImage }}\" alt=\"visitors\" style=\"max-width: 120px; height: auto;\" /\u003e \u003c/div\u003e {{- end -}} {{- if .Site.Params.visitorsImage -}}: Conditional display; only show when visitorsImage is set {{ .Site.Params.visitorsImage }}: Read the param from hugo.yaml {{- -}}: Trim extra whitespace text-align: center: Center align text width: 100%: Container takes full width display: flex; justify-content: center: Flexbox to center horizontally margin-top: 10px; margin-bottom: 20px: Space around the footer, leave some bottom padding max-width: 120px: Limit badge max width to avoid oversized display height: auto: Keep aspect ratio Notes Theme updates: If you update PaperMod, you‚Äôll need to reapply the extend_footer.html changes Third-party dependency: Relies on an external stats service; if it‚Äôs down, you‚Äôll see a broken image Privacy: Visitor stats collect access data; make sure it aligns with your privacy policy ",
  "wordCount" : "818",
  "inLanguage": "en",
  "datePublished": "2025-08-04T02:00:00+08:00",
  "dateModified": "2025-08-04T02:00:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jackchou.top/en/posts/badge-and-blog-workflow/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "üè°JacksBlog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jackchou.top/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jackchou.top/en/" accesskey="h" title="üè°JacksBlog (Alt + H)">üè°JacksBlog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://jackchou.top/" title="‰∏≠Êñá"
                            aria-label="‰∏≠Êñá">Zh-Cn</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jackchou.top/en/posts/" title="Posts üå≥">
                    <span>Posts üå≥</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/en/photos/" title="Photos üì∑">
                    <span>Photos üì∑</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/en/tags/" title="Tags üè∑Ô∏è">
                    <span>Tags üè∑Ô∏è</span>
                </a>
            </li>
            <li>
                <a href="https://jackchou.top/en/about/" title="About üòº">
                    <span>About üòº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Add a little gadget, just chatting
    </h1>
    <div class="post-meta"><span title='2025-08-04 02:00:00 +0800 +0800'>2025.08.04</span>&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="https://jackchou.top/posts/badge-and-blog-workflow/">Zh-Cn</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#how-i-update" aria-label="How I update">How I update</a><ul>
                        
                <li>
                    <a href="#github-actions" aria-label="Github Actions">Github Actions</a></li>
                <li>
                    <a href="#draft" aria-label="Draft">Draft</a></li>
                <li>
                    <a href="#llm-post-processing" aria-label="LLM post-processing">LLM post-processing</a></li></ul>
                </li>
                <li>
                    <a href="#a-badge-for-visitor-stats" aria-label="A Badge for visitor stats">A Badge for visitor stats</a><ul>
                        
                <li>
                    <a href="#source" aria-label="Source">Source</a></li>
                <li>
                    <a href="#add-to-the-page" aria-label="Add to the page">Add to the page</a><ul>
                        
                <li>
                    <a href="#step-1-config-separation" aria-label="Step 1: Config separation">Step 1: Config separation</a></li>
                <li>
                    <a href="#step-2-theme-extension" aria-label="Step 2: Theme extension">Step 2: Theme extension</a></li>
                <li>
                    <a href="#notes" aria-label="Notes">Notes</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="how-i-update">How I update<a hidden class="anchor" aria-hidden="true" href="#how-i-update">#</a></h2>
<p>Hugo builds HTML from Markdown. In theory, you just create or edit Markdown, then run <code>hugo</code> and it‚Äôs done. In practice, there are some tiny details worth sharing.</p>
<h3 id="github-actions">Github Actions<a hidden class="anchor" aria-hidden="true" href="#github-actions">#</a></h3>
<p>For convenience, my blog uses two repos: one stores Markdown and the Hugo theme and other files; the other stores the generated site files (i.e., Github Pages). The first repo has Github Actions that run the hugo command, build static pages, then push to the second repo.</p>
<p>The Action is triggered whenever commits are pushed to the main branch. Each run takes about a minute. With 3,000 Action minutes per month on Github, I‚Äôll never run out.</p>
<h3 id="draft">Draft<a hidden class="anchor" aria-hidden="true" href="#draft">#</a></h3>
<p>Sometimes a post is half-written or I don‚Äôt want to publish it yet. In that case I set draft to true in the front, so hugo won‚Äôt build it. But if it‚Äôs in main, it still triggers the Action‚Äîeven though nothing changes. So I made a draft branch to keep those posts. That way I can use Git like cloud sync and also avoid triggering the Action.</p>
<h3 id="llm-post-processing">LLM post-processing<a hidden class="anchor" aria-hidden="true" href="#llm-post-processing">#</a></h3>
<p>After I finish the draft, I‚Äôll have AI read and check it‚Äîlike spotting typos, checking fluency, and giving suggestions (which I mostly skim, or let models like GPT-4o say some nice words). If I haven‚Äôt written the summary, description, or even the title yet, I‚Äôll ask it for options‚Äîthough most of the time they‚Äôre not that useful.</p>
<p>I use GPT 4.1 for this step. Stronger models are fine too, but handling Chinese character-level issues isn‚Äôt a strong suit for LLMs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>ËæìÂÖ•Â∞Ü‰ºöÊòØÂÆåÊï¥ÁöÑ markdownÔºåÊòØÁî±ÁÆÄ‰Ωì‰∏≠ÊñáÂàõ‰ΩúÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÁöÑ‰∏ÄÁØáÊñáÁ´†„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>‰Ω†ÈúÄË¶ÅÈ¶ñÂÖàÊü•ÁúãÊòØÂê¶Â≠òÂú®ÈîôÂà´Â≠ó„ÄÅÈîôËØØÁöÑÁî®ËØçÂíåÁî®ËØ≠ÔºåË°®Ëø∞‰∏çÊ∏ÖÊô∞Ôºå‰∏çÈÄöÈ°∫ÁöÑÂú∞Êñπ„ÄÇÊ∏ÖÊô∞ÁöÑÊåáÂá∫Âú®‰ΩïÂ§Ñ„ÄÅÊúâ‰ªÄ‰πàÈóÆÈ¢ò„ÄÅÂ¶Ç‰Ωï‰øÆÊîπ„ÄÇÊ≥®ÊÑèÔºåËøôÊòØ‰∏Ä‰∏™‰∏™‰∫∫ÂçöÂÆ¢ÔºåÈÄÇÂΩìÁöÑÂè£ËØ≠ÂåñÊòØÂèØÊé•ÂèóÁöÑÔºå‰ΩÜ‰∏çËÉΩÂÜíÁäØ„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ÁÑ∂ÂêéÔºå‰Ω†ÈúÄË¶ÅÁªìÂêà‰Ω†ÁöÑÁü•ËØÜÂíåÁêÜËß£Ôºå‰ªîÁªÜÁöÑÈòÖËØªÊñáÁ´†ÂÜÖÂÆπÔºåÁªôÂá∫‰∏Ä‰∫õÂÜÖÂÆπ‰∏äÁöÑÂª∫ËÆÆÂíåËØªÂêéÊÑü„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ÊúÄÂêéÔºå‰Ω†ÈúÄË¶ÅÁªìÂêàÂÜÖÂÆπÂíå‰Ω†ÁöÑÁêÜËß£ÔºåÁªôÂá∫Âá†‰∏™ front ÈÉ®ÂàÜÁöÑ titleÔºåsummary Âíå description ÁöÑÂ§áÈÄâÈ°πÔºåÁ¨¶Âêà‰ª•‰∏ãË¶ÅÊ±ÇÔºö
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> titleÔºöËøôÂ∞ÜÊòØÊòæÁ§∫Âú®ÊñáÁ´†ÂàóË°®‰∏≠ÂíåÊñáÁ´†È°∂ÈÉ®ÁöÑ‚ÄúÊ†áÈ¢ò‚ÄùÔºåÊúÄÂ•Ω‰∏çË∂ÖËøá 25 ‰∏™Ê±âÂ≠ó„ÄÇ
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> summaryÔºöËøôÂ∞ÜÊòØÊòæÁ§∫Âú®ÊñáÁ´†ÂàóË°®‰∏≠ÔºåÊ†áÈ¢ò‰∏ãÊñπÁöÑÊñáÁ´†‚ÄúÊÄªÁªì‚ÄùÊàñ‚ÄúÂâØÊ†áÈ¢ò‚ÄùÔºåÊó¢Ë°•ÂÖÖËØ¥ÊòéÊ†áÈ¢òÔºåÂèà‰ª£Ë°®ÊñáÁ´†ÂÜÖÂÆπÔºåÊúÄÂ•Ω‰∏çË∂ÖËøá 50 ‰∏™Ê±âÂ≠ó„ÄÇ
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> descriptionÔºöËøôÂ∞ÜÊòæÁ§∫Âú®ÊñáÁ´†È°µÈù¢ÁöÑÊ†áÈ¢ò‰∏ãÊñπÁ¨¨‰∏ÄÊÆµÔºåÊòØ‚ÄúÊëòË¶Å‚ÄùÔºåÊòØÂºÄÂ§¥ÂíåÈ¢ÑÂëäÂÖ®Êñá„ÄÇÊúÄÂ•Ω‰∏çË∂ÖËøá 80 ‰∏™Ê±âÂ≠ó„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>‰ª•ÂèäÔºåÁªôÂá∫‰∏Ä‰∏™Êñá‰ª∂ÂêçÔºåÂÆÉÂ∞Ü‰Ωú‰∏∫ËØ•ÊñáÁ´†ÁöÑ URLÔºåÊØîÂ¶Ç xxx.mdÔºåÂ∞Ü‰ºöÊàê‰∏∫ baseURL/posts/xxx
</span></span></code></pre></div><p>After the Chinese version is done, for a bit of internationalization, I also generate an English version. In Hugo, you just create a file with the same name <code>xxx.en.md</code>. The English draft is also written by an LLM. If the post is about color science, I‚Äôll provide a glossary to help the AI with terms. Aside from a few similar terms (which we often don‚Äôt strictly distinguish anyway), larger models translate quite well. Good options include Gemini 2.5 Pro and DeepSeek R1-0528; the latter sometimes gives better translation quality, but it may alter format and paragraphs. After translating, I‚Äôll read it once and make small edits if I have time.</p>
<blockquote>
<p>Recentlt, A model named Horizon on OpenRouter also works very well for this task.</p>
</blockquote>
<p>Here‚Äôs the prompt I use. Supposedly, for reasoning models, a clear prompt is enough, you don‚Äôt need a super complicated one:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>ËæìÂÖ•Â∞Ü‰ºöÊòØÂÆåÊï¥ÁöÑ markdownÔºåÊòØÁî±ÁÆÄ‰Ωì‰∏≠ÊñáÂàõ‰ΩúÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÁöÑ‰∏ÄÁØáÊñáÁ´†„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>‰Ω†ÈúÄË¶ÅÊääÁªô‰Ω†ÁöÑÂÜÖÂÆπÁøªËØëÊàêËã±ÊñáÔºåÂàõÂª∫ÂÖ∂Ëã±ÊñáÁâàÊú¨„ÄÇ
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>ÈúÄË¶ÅÊ≥®ÊÑèÔºö
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">1.</span> ‰øùÊåÅÊ†ºÂºèÂíåÊÆµËêΩ‰∏•Ê†º‰∏çÂèò„ÄÇ
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">2.</span> Ê≥®ÊÑèÁî®ËØ≠ÂíåÁî®ËØçÔºå‰∏çË¶ÅÂá∫Áé∞ÁîüÂÉªÁöÑÂçïËØçÔºåÁ¨¶ÂêàÊó•Â∏∏‰π†ÊÉØ„ÄÇ
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">3.</span> ‰øùÊåÅ markdown ËØ≠Ê≥ïÔºåÂõæÁâáÈìæÊé•„ÄÅ‰ª£Á†ÅÈÉ®ÂàÜÂè™Ë¶ÅÁøªËØëÂõæÁâáÊèèËø∞ÂíåÊ≥®Èáä„ÄÇ
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">4.</span> ‰øùÊåÅËØ≠Ê∞îÔºå‰ΩøÁî®ÁöÑ‰øöËØ≠ÂíåÁΩëÁªúÁî®ËØ≠ÈúÄË¶ÅÂáÜÁ°ÆÁöÑÁøªËØë„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ËæìÂá∫ÈúÄË¶ÅÂèØ‰ª•Áõ¥Êé•Â§çÂà∂Ôºå‰∏çË¶ÅÂåÖÂê´‰ªª‰ΩïÂÖ∂ÂÆÉÂÜÖÂÆπ„ÄÇ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ÈÅáÂà∞‰∏ì‰∏öÊúØËØ≠Êó∂Ôºå‰ª•‰∏ãÊòØ‰æõ‰Ω†ÂèÇËÄÉÁöÑËØçÂÖ∏Ôºö
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> ‰∫ÆÂ∫¶ÔºöLuminance
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> ÊòéÂ∫¶ÔºöLightness
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">-</span> ËßÜÊòéÂ∫¶ÔºöBrightness
</span></span></code></pre></div><h2 id="a-badge-for-visitor-stats">A Badge for visitor stats<a hidden class="anchor" aria-hidden="true" href="#a-badge-for-visitor-stats">#</a></h2>
<h3 id="source">Source<a hidden class="anchor" aria-hidden="true" href="#source">#</a></h3>
<p>Found this little gadget while surfing: show visitor counts through a Badge, like on <a href="https://llm-red-team.github.io/free-api/freeapi/">this site</a>. Did some digging and found it‚Äôs just an image; each load increments a counter by 1.</p>
<p>The image comes from <a href="https://visitor-badge.laobi.icu/">visitor-badge.laobi.icu</a>, a free service. You only need an image URL.</p>
<p>The image link format is below. Replace <code>page.id</code> with a unique string. I‚Äôm using <code>jacksblog</code> now‚Äîjust avoid collisions. Super convenient. To reset the count, just swap in a new string.</p>
<pre tabindex="0"><code>https://visitor-badge.laobi.icu/badge?page_id=page.id
</code></pre><p>Of course, this is just a fun toy. Every image load increments the counter. If you add it to the footer like I did, it shows on every page. Visit the homepage, go to a post, open the post‚Äîthat‚Äôs three increments. Refreshes also count.</p>
<h3 id="add-to-the-page">Add to the page<a hidden class="anchor" aria-hidden="true" href="#add-to-the-page">#</a></h3>
<p>Next is adding the Badge to the page. I chose to place it below the footer text. Claude Code handled this part; here‚Äôs its own summary of the work.</p>
<h4 id="step-1-config-separation">Step 1: Config separation<a hidden class="anchor" aria-hidden="true" href="#step-1-config-separation">#</a></h4>
<p>Separate the visitor badge from the footer text and configure it in <code>hugo.yaml</code>:</p>
<p>Location: <code>hugo.yaml</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">footer</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">text</span>: <span style="color:#e6db74">&#34;footer text here.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">visitorsImage</span>: <span style="color:#e6db74">&#34;https://visitor-badge.laobi.icu/badge?page_id=&#34;</span>
</span></span></code></pre></div><ul>
<li>Add a new <code>visitorsImage</code> param to store the badge URL</li>
<li>Keep the footer text clean</li>
</ul>
<h4 id="step-2-theme-extension">Step 2: Theme extension<a hidden class="anchor" aria-hidden="true" href="#step-2-theme-extension">#</a></h4>
<p>Modify the <code>extend_footer.html</code> of the PaperMod theme to display the badge:</p>
<p>Location: <code>themes/PaperMod/layouts/partials/extend_footer.html</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- if .Site.Params.visitorsImage -}}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.Params.visitorsImage }}&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;visitors&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;max-width: 120px; height: auto;&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><ul>
<li><code>{{- if .Site.Params.visitorsImage -}}</code>: Conditional display; only show when visitorsImage is set</li>
<li><code>{{ .Site.Params.visitorsImage }}</code>: Read the param from hugo.yaml</li>
<li><code>{{- -}}</code>: Trim extra whitespace</li>
<li><code>text-align: center</code>: Center align text</li>
<li><code>width: 100%</code>: Container takes full width</li>
<li><code>display: flex; justify-content: center</code>: Flexbox to center horizontally</li>
<li><code>margin-top: 10px; margin-bottom: 20px</code>: Space around the footer, leave some bottom padding</li>
<li><code>max-width: 120px</code>: Limit badge max width to avoid oversized display</li>
<li><code>height: auto</code>: Keep aspect ratio</li>
</ul>
<h4 id="notes">Notes<a hidden class="anchor" aria-hidden="true" href="#notes">#</a></h4>
<ol>
<li>Theme updates: If you update PaperMod, you‚Äôll need to reapply the extend_footer.html changes</li>
<li>Third-party dependency: Relies on an external stats service; if it‚Äôs down, you‚Äôll see a broken image</li>
<li>Privacy: Visitor stats collect access data; make sure it aligns with your privacy policy</li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://jackchou.top/en/tags/hugo/">Hugo</a></li>
      <li><a href="https://jackchou.top/en/tags/code/">Code</a></li>
      <li><a href="https://jackchou.top/en/tags/papermod/">PaperMod</a></li>
      <li><a href="https://jackchou.top/en/tags/anything/">Anything</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jackchou.top/en/">üè°JacksBlog</a></span> ¬∑ 
        my friends&rsquo; websites: <a href="https://zhxwu.com/">zhxwu.com</a>, <a href="https://ylqian.com/">ylqian.com</a> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><div style="text-align: center; margin-top: 10px; margin-bottom: 20px; width: 100%; display: flex; justify-content: center;">
    <img src="https://visitor-badge.laobi.icu/badge?page_id=jacksblog" alt="visitors" style="max-width: 120px; height: auto;" />
</div>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
